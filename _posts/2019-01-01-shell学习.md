---
layout:     post
title:      Shell学习
subtitle:   shell学习之路
date:       2019-01-01
author:     HDD
header-img: img/post_bg_shell.png
catalog: true
tags:
    - shell
---

# 前言
在前段时间工作都时候，因为公司测试环境需要测试其他模块，而我这一块的功能由于默写原因不能合并到里面。所以我需要自己在服务器上搭建一套测试环境，开始接触到了shell，之前也用过ubuntu做为过个人操作系统，但是并没有系统的学习过Linux和shell（虽然学校教过），所以在这里记录一下自己学习shell的心得。

### Linux系统启动流程
* 第一步：首先BIOS系统会加电自检（主要检查硬件有没有问题），然后BIOS系统会引导系统，BIOS默认回从硬盘上的第0柱面，第0磁道，，第一扇区中读取被称为MBR的东西，即主引导记录。
* 第二步：一个扇区的大小是512字节，存放的是引导程序和分区信息，这些内容都是由专门的分区程序产生的。MBR中的引导程序是可以修改的，所以可以利用这个特性实现多操作系统共存。许多的linux系统会默认使用Grub作为引导程序，常见的是将Grup的地址写到MBR中（应为Grup太大了）。
* 第三步：运行Grup，根据其配置文件加载kernel镜像，并运行内核加载后第一个程序/sbin/init，这个程序回根据/etc/inittab来进行初始化的工作。
* 第四步：Linux将根据/etc/inittab中定义的系统初始化配置si::sysinit:/etc/rc.d/rc.sysinit执行/etc/rc.sysinit脚本，该脚本将会设置系统变量、网络配置，并配置swap、设定/proc、加载用户自定义模块、加载内核设置等。
* 第五步：根据第三步读到的runlevel值来启动对应的服务，如果值是3，就会运行/etc/rc3.d/下所有的脚本。
* 第六步：将运行/etc/rc.local
* 第七步：会生成终端或X Window来等待用户登录。

**runlevel系统运行级别**
> 0: 关机
> 
> 1: 单用户模式，系统出现问题时可使用这种模式进入系统维护（忘了root密码修改root密码）
> 
> 2: 多用户模式，没有网络连接
> 
> 3: 完全多用户模式
> 
> 4: 保留未使用
> 
> 5: 窗口模式，支持多用户，支持网络
> 
> 6: 重启

### Linux系统命令学习
  
* **Linux系统使用帮助**
  
    **man** 命令,使用`man 命令`可以查看该命令的具体作用。man命令会对linux命令的说明文档分类。9种分类：
    * 常见命令说明
    * 可调用的系统
    * 函数库
    * 设备文件
    * 文件格式
    * 游戏说明
    * 杂项
    * 系统管理员可用的命令
    * 与内核相关等说明
  使用`man -f 命令`可是查看命令在不同分类中的说明






### shell判断命令是否存在
* command
  ```shell
    #! /bin/bash
    if command -v git >/dev/null 2>&1; then 
    echo 'exists git' 
    else 
    echo 'no exists git' 
    fi
  ```
* type
  ```shell
    #! /bin/bash
    if type git >/dev/null 2>&1; then 
    echo 'exists git' 
    else 
    echo 'no exists git' 
    fi
  ```
* hash
  ```shell
    #! /bin/bash
    if hash git 2>/dev/null; then 
    echo 'exists git' 
    else 
    echo 'no exists git' 
    fi
  ```